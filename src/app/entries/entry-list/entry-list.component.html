<section
    *ngIf="loading; else entryView"
    class="loading"
    >
    <mat-spinner></mat-spinner>
</section>
<ng-template #entryView>
    <section class="container">
        <ng-container *ngIf="entries?.length; else noEntries">
            <section
                *ngFor="let entry of entries"
                class="post"
                >
                <div class="body">
                    <div class="content">
                        <a
                            class="narrative mat-body"
                            [routerLink]="[entry.id]"
                            >
                            {{ entry.notes || (entry.date | date) }}
                        </a>
                        <div class="mat-small">
                            Location: {{ entry.locationName }}
                        </div>
                        <div class="mat-small">
                            Date: {{ entry.date | date }}
                        </div>
                        <div class="mat-small">
                            Catch Count: {{ entry.catchCount }}
                        </div>
                    </div>
                    <button
                        *ngIf="(currentUserId$ | async) === entry.authorId"
                        class="delete"
                        mat-icon-button
                        color="warn"
                        (click)="deleteEntry(entry.id)"
                        >
                        <mat-icon>highlight_off</mat-icon>
                    </button>
                </div>
                <mat-divider></mat-divider>
            </section>
        </ng-container>
        <ng-template #noEntries>
            <span class="no-entries mat-caption">No Entries Available</span>
        </ng-template>
    </section>
    <button
        *ngIf="currentUserId$ | async"
        class="create-button"
        mat-flat-button
        color="accent"
        routerLink="/entries/create"
        >
        Create New Entry
    </button>
</ng-template>
